

### **量化交易機器人前端 UI 軟體需求規格書 (SRS)**

**文件版本**: 1.0
**發布日期**: 2025年7月20日

---

#### **1. 緒論 (Introduction)**

**1.1 文件目的**
本文件旨在詳細闡述量化交易機器人前端使用者介面 (UI) 的功能性與非功能性需求。其主要目的是為設計、開發、測試及未來維護工作提供一份清晰、統一的指導藍圖，確保最終產品符合專案願景。

**1.2 專案範疇**
本專案專注於開發一個基於 Web 的、響應式的前端使用者介面。此 UI 將透過 API 與後端量化交易引擎進行數據交換與指令操作。後端服務的開發不包含在本文件範疇內，但本文件將定義前端所需的 API 數據結構與互動模式。

**1.3 目標使用者**
本產品的目標使用者涵蓋：
*   **初階量化交易者**：需要直觀的介面、預設策略範本和清晰的績效展示。
*   **進階量化交易者/開發者**：需要高效的監控工具、詳細的數據分析和高度的客製化能力。

**1.4 技術架構對齊**
本需求文檔與現有項目架構保持一致：
*   **前端框架**: React 18 + TypeScript + Ant Design
*   **狀態管理**: Zustand (tradingStore.ts, appStore.ts)
*   **實時通信**: WebSocket (websocket.ts)
*   **API服務**: 統一API接口 (trading.ts)
*   **後端集成**: Rust + Python 混合架構
*   **構建工具**: Vite + Tauri

---

#### **2. 整體描述 (Overall Description)**

**2.1 產品願景**
我們旨在打造一個視覺上引人入勝、互動體驗流暢且功能強大的量化機器人儀表板。它不僅是一個工具，更是一個能讓使用者在複雜的市場數據中感到掌控自如、充滿信心的指揮中心。

**2.2 設計哲學與指導原則**
*   **數據驅動 (Data-Driven)**：所有設計都以清晰、即時、準確地展示數據為核心。
*   **使用者中心 (User-Centric)**：介面必須直觀易用，操作路徑簡短，並提供及時的視覺回饋。
*   **專業且生動 (Professionally Dynamic)**：在專業、高效的資訊架構基礎上，透過現代化的視覺風格和微交互動畫，提供生動、不呆板的使用體驗。
*   **安全第一 (Security First)**：UI 設計必須嚴格遵守安全規範，保護使用者的敏感資訊。

**2.3 核心美學風格：霓虹未來 (Neon Future)**
整體視覺風格採用「霓虹未來」主題，營造專業、冷靜且充滿未來科技感的氛圍。

**2.4 與現有系統整合**
本UI設計將與現有的TradingSystemDashboard、DynamicPositionConfig、RealTimeTrading等組件無縫整合，保持功能一致性和視覺統一性。

---

#### **3. 視覺與風格指南 (Visual & Style Guide)**

**3.1 色彩系統 (Color Palette)**
所有 UI 元素必須嚴格遵守以下色彩規範：
*   **主背景 (`--bg-main`)**: `#0D0F1A` (深午夜藍)
*   **面板/卡片背景 (`--bg-panel`)**: `#161A25` (稍亮的石板藍)
*   **邊框/分割線 (`--border-color`)**: `#2D3748`
*   **主要文字 (`--text-primary`)**: `#E0E2F0` (帶藍調的白色)
*   **次要文字 (`--text-secondary`)**: `#7A81A3` (灰藍色)
*   **主強調色/按鈕 (`--accent-color`)**: `#00F5D4` (霓虹青色)
*   **盈利/上漲 (`--profit-green`)**: `#29DDC4` (青綠色)
*   **虧損/下跌 (`--loss-red`)**: `#FF4D6D` (粉紅色)

**3.2 字體排印 (Typography)**
*   **英文字體**: `Inter`
*   **中文字體**: 系統預設無襯線字體 (如蘋方、思源黑體)
*   **基礎字號**: `14px`
*   **字重**:
    *   **標題 (H1, H2)**: `600` (Semibold)
    *   **面板標題/數值**: `600` (Semibold)
    *   **正文/標籤**: `400` (Regular), `500` (Medium)

**3.3 佈局與組件風格**
*   **佈局**: 採用基於 CSS Grid 的響應式面板化佈局。
*   **面板 (`.panel`)**: `background-color: var(--bg-panel)`, `border-radius: 8px`。
*   **按鈕 (`.btn`)**: `border-radius: 4px`。主按鈕使用 `--accent-color`，次要按鈕使用深灰色。

**3.4 與現有CSS框架整合**
*   保持與現有App.css中的Ant Design主題覆蓋一致
*   新增霓虹未來風格的CSS變數定義
*   確保與trading-card等現有樣式類兼容

---

#### **4. 功能性需求 (Functional Requirements)**

**4.1 儀表板 (Dashboard)**
*   **FR-1.1 資產概覽面板**: 顯示總資產 (USDT)、可用餘額、24小時絕對盈虧和百分比。
*   **FR-1.2 績效指標面板**: 顯示總收益率、勝率、最大回撤、運行中機器人數量。
*   **FR-1.3 機器人狀態監控面板**:
    *   以列表形式展示所有機器人實例。
    *   每項應包含：機器人名稱、交易對、運行狀態、總盈虧。
    *   「運行中」狀態應有動態指示器。

**4.2 策略管理 (未來迭代)**
*   **FR-2.1 策略創建**: 提供基於範本（如網格、馬丁格爾）的策略創建流程。
*   **FR-2.2 參數配置**: 為每種策略提供清晰的參數輸入介面。

**4.3 實盤交易監控**
*   **FR-3.1 手動干預**: 在機器人列表的每一項提供「啟動」、「停止」、「緊急平倉」按鈕。

**4.4 系統設定**
*   **FR-4.1 API 金鑰管理**: 提供安全的新增、刪除交易所 API 金鑰的介面，並明確提示權限設定。
*   **FR-4.2 通知設定**: 允許使用者配置交易執行、異常停止等事件的通知方式（如 Telegram, Email）。

**4.5 與現有組件整合需求**
*   **FR-5.1 TradingSystemDashboard整合**: 確保新設計與現有TradingSystemDashboard.tsx功能完全兼容
*   **FR-5.2 狀態管理整合**: 與現有tradingStore.ts和appStore.ts狀態管理系統無縫整合
*   **FR-5.3 WebSocket實時數據**: 保持與現有websocket.ts實時數據推送機制的一致性

---

#### **5. 非功能性需求 (Non-Functional Requirements)**

**5.1 動態與互動體驗 (Animation & Interactivity)**
*   **NFR-1.1 元素入場動畫**: 所有面板和主要模組在載入時，應有從下至上淡入的動畫 (`fadeInUp`)，並有微小時間差，創造層次感。
*   **NFR-1.2 懸停互動效果**: 滑鼠懸停在面板上時，面板應有輕微上浮，並在周圍顯示與強調色匹配的微光效果。
*   **NFR-1.3 動態狀態指示**: 「運行中」的狀態指示器應有呼吸脈衝動畫 (`pulse`)。
*   **NFR-1.4 即時數據回饋**: 當 PnL 等關鍵數據更新時，數字本身應有短暫的顏色閃爍動畫 (`flash-green` / `flash-red`) 來提示變化。
*   **NFR-1.5 按鈕互動**: 按鈕在懸停時應有輕微上浮和陰影變化，提供明確的點擊反饋。

**5.2 效能 (Performance)**
*   **NFR-2.1 首次載入時間**: 頁面首次有意義渲染 (First Contentful Paint) 時間應在 2 秒以內。
*   **NFR-2.2 數據更新**: 來自後端的數據更新不應導致介面卡頓或閃爍。

**5.3 響應式設計 (Responsiveness)**
*   **NFR-3.1**: UI 必須在以下三種螢幕寬度範圍內提供優質的瀏覽體驗：
    *   **桌面端**: > 1200px
    *   **平板端**: 768px - 1199px
    *   **移動端**: < 767px

**5.4 安全性 (Security)**
*   **NFR-4.1**: 前端應用不得在本地（如 LocalStorage）儲存未加密的 API Secret。所有敏感操作需後端驗證。
*   **NFR-4.2**: 所有對外的 API 請求必須使用 HTTPS。

**5.5 瀏覽器相容性 (Browser Compatibility)**
*   **NFR-5.1**: 需完美支援以下瀏覽器的最新兩個主版本：Google Chrome, Mozilla Firefox, Apple Safari, Microsoft Edge。

**5.6 與現有系統兼容性**
*   **NFR-6.1**: 確保與現有Vite構建系統兼容，不影響現有構建流程
*   **NFR-6.2**: 保持與現有TypeScript類型定義系統的一致性
*   **NFR-6.3**: 確保與現有Tauri桌面應用框架的兼容性

---

#### **6. 實施計劃與優先級**

**6.1 開發階段規劃**
*   **第一階段 (1-2週)**: 基礎UI框架和色彩系統實現
*   **第二階段 (2-3週)**: 核心組件霓虹未來風格改造
*   **第三階段 (1-2週)**: 動畫效果和互動體驗優化
*   **第四階段 (1週)**: 測試、調優和文檔完善

**6.2 技術實施要點**
*   使用CSS變數實現霓虹未來色彩系統
*   保持與現有Ant Design組件的兼容性
*   實現漸進式增強，不破壞現有功能
*   建立完整的視覺設計系統文檔

**6.3 風險控制**
*   建立A/B測試機制，確保新設計不影響用戶體驗
*   保持向後兼容性，支持舊版本界面切換
*   建立完整的回滾機制

---

#### **7. 附錄 (Appendix)**

**7.1 概念原型參考**
本專案的儀表板頁面的核心視覺風格、佈局和互動效果，應嚴格參考開發過程中提供的 `HTML/CSS/JS` 程式碼範例（即我們最後一版應用了「霓虹未來」風格的程式碼）。該範例已實現了本文件中描述的大部分視覺和非功能性需求，可作為開發的起點和黃金標準。

**7.2 現有組件映射表**
| 新需求組件 | 現有對應組件 | 改造優先級 |
|-----------|-------------|-----------|
| 資產概覽面板 | TradingSystemDashboard | 高 |
| 績效指標面板 | ProfitAnalysis | 高 |
| 機器人狀態監控 | RealTimeTrading | 中 |
| 策略管理界面 | DynamicPositionConfig | 中 |
| 風險管理面板 | UnifiedRiskManagement | 低 |

**7.3 技術債務清理計劃**
*   統一現有組件的樣式系統
*   優化現有CSS類名命名規範
*   建立組件樣式文檔
*   實現設計系統的版本管理

---