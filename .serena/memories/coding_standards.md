# 代碼規範和約定

## Rust 代碼規範
- **命名約定**: 使用snake_case命名變量和函數，PascalCase命名結構體和枚舉
- **錯誤處理**: 使用anyhow::Result和thiserror派生宏
- **異步編程**: 使用tokio作為異步運行時，async/await語法
- **日誌記錄**: 使用tracing宏記錄日誌，支援結構化日誌
- **配置管理**: 使用serde進行序列化/反序列化
- **文檔註解**: 使用///進行文檔註解

## Python 代碼規範
- **命名約定**: 遵循PEP8，使用snake_case命名
- **類型註解**: 使用typing模組進行類型標註
- **錯誤處理**: 使用標準異常處理機制
- **日誌記錄**: 使用logging模組
- **文檔字符串**: 使用docstring進行函數和類的文檔說明
- **數據類**: 使用dataclass裝飾器定義數據結構

## 項目特定約定
- **策略實現**: 所有策略必須繼承BaseStrategy基類
- **配置文件**: 使用TOML格式進行配置
- **信號定義**: 使用StrategySignal數據類定義交易信號
- **錯誤分類**: 區分業務錯誤和系統錯誤
- **API設計**: 統一的錯誤響應格式和狀態碼

## 代碼質量
- **測試覆蓋**: 核心邏輯需要單元測試
- **性能考慮**: 關鍵路徑使用Rust實現
- **內存管理**: 注意避免內存洩漏和不必要的拷貝
- **並發安全**: 使用適當的同步原語保證線程安全